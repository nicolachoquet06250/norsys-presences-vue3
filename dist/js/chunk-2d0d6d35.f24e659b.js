(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d35"],{"73cf":function(e,t,c){"use strict";c.r(t);var l=c("ade3"),a=c("7a23"),s=Object(a["H"])("data-v-3a9cf7fb");Object(a["v"])("data-v-3a9cf7fb");var o={class:"alerts container"},n={class:"row"},r={key:0,class:"col-12"},i={class:"container-fluid mt-2"},d={class:"row"},b={class:"col-12 col-md-6 mb-2"},u={class:"form-floating"},f={id:"firstname",ref:"firstname",type:"text",placeholder:"Prénom",class:"form-control"},p=Object(a["g"])("label",{for:"firstname"},"Prénom",-1),j=Object(a["g"])("div",{class:"col-12"},null,-1),m={class:"col-12 col-md-6 mb-2"},O={class:"form-floating"},g={id:"lastname",ref:"lastname",type:"text",placeholder:"Nom de famille",class:"form-control"},v=Object(a["g"])("label",{for:"lastname"},"Nom de famille",-1),w=Object(a["g"])("div",{class:"col-12"},null,-1),h={class:"col-12 col-md-6 mb-2"},y={class:"form-floating"},x={id:"password-1",ref:"password",type:"password",placeholder:"mot de passe",class:"form-control"},_=Object(a["g"])("label",{for:"password-1"},"Mot de passe",-1),k=Object(a["g"])("div",{class:"col-12"},null,-1),C={class:"col-12 col-md-6 mb-2"},T={class:"form-floating"},J={id:"password-2",ref:"password2",type:"password",placeholder:"confirmer le mot de passe",class:"form-control"},N=Object(a["g"])("label",{for:"password-2"},"Confirmation du mot de passe",-1),G={type:"hidden",id:"agency",ref:"agency",value:"1"},P=Object(a["g"])("div",{class:"col-12"},null,-1),S={class:"col-12 col-md-2 mb-2"},q={class:"col-12 col-md-3 mb-2"};Object(a["t"])();var D=s((function(e,t,c,s,D,H){return Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",o,[Object(a["g"])("div",n,[s.alert.show?(Object(a["s"])(),Object(a["d"])("div",r,[Object(a["g"])("div",{class:Object(l["a"])({alert:!0},"alert-".concat(s.alert.type),!0),role:"alert"},Object(a["C"])(s.alert.text),3)])):Object(a["e"])("",!0)])]),Object(a["g"])("div",i,[Object(a["g"])("form",d,[Object(a["g"])("div",b,[Object(a["g"])("div",u,[Object(a["g"])("input",f,null,512),p])]),j,Object(a["g"])("div",m,[Object(a["g"])("div",O,[Object(a["g"])("input",g,null,512),v])]),w,Object(a["g"])("div",h,[Object(a["g"])("div",y,[Object(a["g"])("input",x,null,512),_])]),k,Object(a["g"])("div",C,[Object(a["g"])("div",T,[Object(a["g"])("input",J,null,512),N])]),Object(a["g"])("input",G,null,512),P,Object(a["g"])("div",S,[Object(a["g"])("button",{type:"submit",class:"btn btn-success",onClick:t[1]||(t[1]=Object(a["G"])((function(){return s.register&&s.register.apply(s,arguments)}),["prevent","stop"]))}," S'inscrire ")]),Object(a["g"])("div",q,[Object(a["g"])("button",{type:"button",id:"alereay-account",class:"btn btn-info",onClick:t[2]||(t[2]=Object(a["G"])((function(e){return s.go_to("/login")}),["prevent","stop"]))}," Déjà un compte ? ")])])])],64)})),H=(c("d3b7"),c("6c02")),I=c("4360"),L={name:"Register",setup:function(){var e=Object(H["c"])(),t=Object(I["d"])(),c=t.show_loader,l=t.hide_loader,s=Object(I["c"])(),o=s.api_base,n=Object(a["x"])(null),r=Object(a["x"])(null),i=Object(a["x"])(null),d=Object(a["x"])(null),b=Object(a["x"])(null),u=Object(a["x"])({text:"",type:"",show:!1});return{firstname:n,lastname:r,password:i,password2:d,agency:b,alert:u,go_to:function(t){e.push(t)},register:function(){if(i.value.value===d.value.value)c(),fetch("".concat(o,"/user/register"),{method:"post",body:JSON.stringify({firstname:n.value.value,lastname:r.value.value,password:i.value.value,agency:b.value.value})}).then((function(e){return e.json()})).then((function(t){if(t.error){u.value={text:t.message,type:"danger",show:!0};var c=setTimeout((function(){u.value.show=!1,clearTimeout(c)}),4e3)}else e.push("/login");l()}));else{u.value={text:"Les 2 mots de passes ne sont pas identiques",type:"danger",show:!0};var t=setTimeout((function(){u.value.show=!1,clearTimeout(t)}),4e3)}}}}};L.render=D,L.__scopeId="data-v-3a9cf7fb";t["default"]=L}}]);
//# sourceMappingURL=chunk-2d0d6d35.f24e659b.js.map