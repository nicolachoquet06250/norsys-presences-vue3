(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d35"],{"73cf":function(e,t,l){"use strict";l.r(t);var c=l("ade3"),s=l("7a23"),a=Object(s["I"])("data-v-37854b41");Object(s["w"])("data-v-37854b41");var o={class:"alerts container"},n={class:"row"},r={key:0,class:"col-12"},i={class:"container-fluid mt-2"},d={class:"row"},u={class:"col-12 col-md-6 mb-2"},b={class:"form-floating"},p={id:"firstname",ref:"firstname",type:"text",placeholder:"Prénom",class:"form-control"},h=Object(s["h"])("label",{for:"firstname"},"Prénom",-1),m=Object(s["h"])("div",{class:"col-12"},null,-1),j={class:"col-12 col-md-6 mb-2"},f={class:"form-floating"},O={id:"lastname",ref:"lastname",type:"text",placeholder:"Nom de famille",class:"form-control"},v=Object(s["h"])("label",{for:"lastname"},"Nom de famille",-1),w=Object(s["h"])("div",{class:"col-12"},null,-1),y={class:"col-12 col-md-6 mb-2"},g={class:"form-floating"},k={id:"password-1",ref:"password",type:"password",placeholder:"mot de passe",class:"form-control"},x=Object(s["h"])("label",{for:"password-1"},"Mot de passe",-1),_=Object(s["h"])("div",{class:"col-12"},null,-1),T={class:"col-12 col-md-6 mb-2"},C={class:"form-floating"},J={id:"password-2",ref:"password2",type:"password",placeholder:"confirmer le mot de passe",class:"form-control"},N=Object(s["h"])("label",{for:"password-2"},"Confirmation du mot de passe",-1),q={type:"hidden",id:"agency",ref:"agency",value:"1"},D=Object(s["h"])("div",{class:"col-12"},null,-1),H={class:"col-12 col-md-2 mb-2"},I={class:"col-12 col-md-3 mb-2"};Object(s["u"])();var P=a((function(e,t,l,a,P,S){return Object(s["t"])(),Object(s["d"])(s["a"],null,[Object(s["h"])("div",o,[Object(s["h"])("div",n,[a.alert.show?(Object(s["t"])(),Object(s["d"])("div",r,[Object(s["h"])("div",{class:Object(c["a"])({alert:!0},"alert-".concat(a.alert.type),!0),role:"alert"},Object(s["D"])(a.alert.text),3)])):Object(s["e"])("",!0)])]),Object(s["h"])("div",i,[Object(s["h"])("form",d,[Object(s["h"])("div",u,[Object(s["h"])("div",b,[Object(s["h"])("input",p,null,512),h])]),m,Object(s["h"])("div",j,[Object(s["h"])("div",f,[Object(s["h"])("input",O,null,512),v])]),w,Object(s["h"])("div",y,[Object(s["h"])("div",g,[Object(s["h"])("input",k,null,512),x])]),_,Object(s["h"])("div",T,[Object(s["h"])("div",C,[Object(s["h"])("input",J,null,512),N])]),Object(s["h"])("input",q,null,512),D,Object(s["h"])("div",H,[Object(s["h"])("button",{type:"submit",class:"btn btn-success",onClick:t[1]||(t[1]=Object(s["H"])((function(){return a.register&&a.register.apply(a,arguments)}),["prevent","stop"]))}," S'inscrire ")]),Object(s["h"])("div",I,[Object(s["h"])("button",{type:"button",id:"alereay-account",class:"btn btn-info",onClick:t[2]||(t[2]=Object(s["H"])((function(e){return a.go_to("/login")}),["prevent","stop"]))}," Déjà un compte ? ")])])])],64)})),S=(l("d3b7"),l("6c02")),L=l("4360"),M={name:"Register",setup:function(){var e="https://norsys-sophia-presence.nicolaschoquet.fr/api",t=Object(S["c"])(),l=Object(L["d"])(),c=l.show_loader,a=l.hide_loader,o=Object(s["y"])(null),n=Object(s["y"])(null),r=Object(s["y"])(null),i=Object(s["y"])(null),d=Object(s["y"])(null),u=Object(s["y"])({text:"",type:"",show:!1});return{firstname:o,lastname:n,password:r,password2:i,agency:d,alert:u,go_to:function(e){t.push(e)},register:function(){if(r.value.value===i.value.value)c(),fetch("".concat(e,"/user/register"),{method:"post",body:JSON.stringify({firstname:o.value.value,lastname:n.value.value,password:r.value.value,agency:d.value.value})}).then((function(e){return e.json()})).then((function(e){if(e.error){u.value={text:e.message,type:"danger",show:!0};var l=setTimeout((function(){u.value.show=!1,clearTimeout(l)}),4e3)}else t.push("/login");a()}));else{u.value={text:"Les 2 mots de passes ne sont pas identiques",type:"danger",show:!0};var l=setTimeout((function(){u.value.show=!1,clearTimeout(l)}),4e3)}}}}};M.render=P,M.__scopeId="data-v-37854b41";t["default"]=M}}]);
//# sourceMappingURL=chunk-2d0d6d35.1fa41a32.js.map