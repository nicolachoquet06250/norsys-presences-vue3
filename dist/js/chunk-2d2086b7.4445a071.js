(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,c){"use strict";c.r(t);var a=c("ade3"),l=c("7a23"),o=Object(l["H"])("data-v-abf48b72");Object(l["v"])("data-v-abf48b72");var s={class:"alerts container"},n={class:"row"},r={key:0,class:"col-12"},b={class:"container-fluid mt-2"},i={class:"row"},u={class:"col-12 col-md-6 mb-2"},d={class:"form-floating"},g={type:"email",id:"email",ref:"email",placeholder:"ldap@norsys.fr",class:"form-control"},O=Object(l["g"])("label",{for:"email"},"Email ( ex : ldap@norsys.fr )",-1),j=Object(l["g"])("div",{class:"col-12"},null,-1),p={class:"col-12 col-md-6 mb-2"},f={class:"form-floating"},v={type:"password",id:"password",ref:"password",placeholder:"mot de passe",class:"form-control"},m=Object(l["g"])("label",{for:"password"},"Mot de passe",-1),w=Object(l["g"])("div",{class:"col-12"},null,-1),h={class:"col-12 col-md-2"},y={class:"col-12 col-md-3"};Object(l["t"])();var x=o((function(e,t,c,x,k,_){var J=Object(l["A"])("fragment");return Object(l["s"])(),Object(l["d"])(J,null,{default:o((function(){return[Object(l["g"])("div",s,[Object(l["g"])("div",n,[x.alert.show?(Object(l["s"])(),Object(l["d"])("div",r,[Object(l["g"])("div",{class:Object(a["a"])({alert:!0},"alert-".concat(x.alert.type),!0),role:"alert"},Object(l["C"])(x.alert.text),3)])):Object(l["e"])("",!0)])]),Object(l["g"])("div",b,[Object(l["g"])("form",i,[Object(l["g"])("div",u,[Object(l["g"])("div",d,[Object(l["g"])("input",g,null,512),O])]),j,Object(l["g"])("div",p,[Object(l["g"])("div",f,[Object(l["g"])("input",v,null,512),m])]),w,Object(l["g"])("div",h,[Object(l["g"])("button",{type:"submit",class:"btn btn-success",onClick:t[1]||(t[1]=Object(l["G"])((function(){return x.loggin&&x.loggin.apply(x,arguments)}),["prevent","stop"]))},"Se connecter")]),Object(l["g"])("div",y,[Object(l["g"])("button",{id:"not-account",class:"btn btn-info",onClick:t[2]||(t[2]=Object(l["G"])((function(e){return x.go_to("/register")}),["prevent","stop"]))},"Pas de compte ?")])])])]})),_:1})})),k=(c("d3b7"),c("6c02")),_=c("4360"),J={name:"Login",setup:function(){var e=Object(_["e"])(),t=e.setLogged,c=Object(k["c"])(),a=Object(_["c"])(),o=a.api_base,s=Object(l["x"])(null),n=Object(l["x"])(null),r=Object(l["x"])({text:"",type:"",show:!1});return{email:s,password:n,alert:r,loggin:function(){""!==s.value.value&&""!==n.value.value&&fetch("".concat(o,"/user/login"),{method:"post",body:JSON.stringify({email:s.value.value,password:n.value.value})}).then((function(e){return e.json()})).then((function(e){if(e.error){r.value={text:e.message,type:"danger",show:!0};var a=setTimeout((function(){r.value.show=!1,clearTimeout(a)}),5e3)}else localStorage.setItem("user",JSON.stringify(e)),c.push("/"),t(!0)}))},go_to:function(e){c.push(e)}}}};J.render=x,J.__scopeId="data-v-abf48b72";t["default"]=J}}]);
//# sourceMappingURL=chunk-2d2086b7.4445a071.js.map