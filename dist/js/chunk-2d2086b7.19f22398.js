(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,c){"use strict";c.r(t);var a=c("ade3"),l=c("7a23"),o=Object(l["I"])("data-v-abf48b72");Object(l["w"])("data-v-abf48b72");var s={class:"alerts container"},n={class:"row"},r={key:0,class:"col-12"},b={class:"container-fluid mt-2"},i={class:"row"},u={class:"col-12 col-md-6 mb-2"},d={class:"form-floating"},O={type:"email",id:"email",ref:"email",placeholder:"ldap@norsys.fr",class:"form-control"},j=Object(l["h"])("label",{for:"email"},"Email ( ex : ldap@norsys.fr )",-1),p=Object(l["h"])("div",{class:"col-12"},null,-1),f={class:"col-12 col-md-6 mb-2"},v={class:"form-floating"},h={type:"password",id:"password",ref:"password",placeholder:"mot de passe",class:"form-control"},m=Object(l["h"])("label",{for:"password"},"Mot de passe",-1),g=Object(l["h"])("div",{class:"col-12"},null,-1),w={class:"col-12 col-md-2"},y={class:"col-12 col-md-3"};Object(l["u"])();var k=o((function(e,t,c,k,_,x){var J=Object(l["B"])("fragment");return Object(l["t"])(),Object(l["d"])(J,null,{default:o((function(){return[Object(l["h"])("div",s,[Object(l["h"])("div",n,[k.alert.show?(Object(l["t"])(),Object(l["d"])("div",r,[Object(l["h"])("div",{class:Object(a["a"])({alert:!0},"alert-".concat(k.alert.type),!0),role:"alert"},Object(l["D"])(k.alert.text),3)])):Object(l["e"])("",!0)])]),Object(l["h"])("div",b,[Object(l["h"])("form",i,[Object(l["h"])("div",u,[Object(l["h"])("div",d,[Object(l["h"])("input",O,null,512),j])]),p,Object(l["h"])("div",f,[Object(l["h"])("div",v,[Object(l["h"])("input",h,null,512),m])]),g,Object(l["h"])("div",w,[Object(l["h"])("button",{type:"submit",class:"btn btn-success",onClick:t[1]||(t[1]=Object(l["H"])((function(){return k.loggin&&k.loggin.apply(k,arguments)}),["prevent","stop"]))},"Se connecter")]),Object(l["h"])("div",y,[Object(l["h"])("button",{id:"not-account",class:"btn btn-info",onClick:t[2]||(t[2]=Object(l["H"])((function(e){return k.go_to("/register")}),["prevent","stop"]))},"Pas de compte ?")])])])]})),_:1})})),_=(c("d3b7"),c("6c02")),x=c("4360"),J={name:"Login",setup:function(){var e=Object(x["e"])(),t=e.setLogged,c=Object(_["c"])(),a=Object(x["c"])(),o=a.api_base,s=Object(l["y"])(null),n=Object(l["y"])(null),r=Object(l["y"])({text:"",type:"",show:!1});return{email:s,password:n,alert:r,loggin:function(){""!==s.value.value&&""!==n.value.value&&fetch("".concat(o,"/user/login"),{method:"post",body:JSON.stringify({email:s.value.value,password:n.value.value})}).then((function(e){return e.json()})).then((function(e){if(e.error){r.value={text:e.message,type:"danger",show:!0};var a=setTimeout((function(){r.value.show=!1,clearTimeout(a)}),5e3)}else localStorage.setItem("user",JSON.stringify(e)),c.push("/"),t(!0)}))},go_to:function(e){c.push(e)}}}};J.render=k,J.__scopeId="data-v-abf48b72";t["default"]=J}}]);
//# sourceMappingURL=chunk-2d2086b7.19f22398.js.map